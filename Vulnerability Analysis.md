Identifier | Soort kwetsbaarheid
------------- | -------------
A1:2017  | Injection
A2:2017  | Broken Authentication
A3:2017  | Sensitive Data Exposure
A4:2017  | XML External Entities (XXE)
A5:2017   | Broken Access Control
A6:2017   | Security Misconfiguration
A7:2017  | Cross Site Scripting (XSS)
A8:2017   | Insecure Deserialization
A9:2017  | Using Components with Known Vulnerabilities
A10:2017   | Insufficient Logging & Monitoring


1. Wat houdt de vulnerability in?
2. Hoe groot is het risico voor deze kwetsbaarheid binnen het project?
a. Wat als we authenticatie en autorisatie toevoegen?
3. Hoe wordt dit risico tegengegaan binnen het project?
a. Als je denkt dat (een onderdeel van) een library of framework dit voor je oplost, 
probeer dan uit te zoeken welk onderdeel dit is en hoe deze dat tegengaat.  
Je kan in Markdown tussenkopjes maken met een #-teken, bijvoorbeeld:

# Vulnerability Analysis
## A10:2017 Insufficient logging & Monitoring
### Description
De vulnerability houdt in dat er niet genoeg of (in mijn geval helemaal geen) logging of monitoring is toegevoegd.
De eindgebruiker en of beheerder kan moeilijk tot niet inzien welke acties er plaatsvinden en kan moeilijk onderscheid maken tussen goed aardige en kwaadaardige gebruikers. De applicatie geeft foutmeldingen terug op bepaalde acties maar geeft niet altijd goed weer waarom iets fout gaat en wat er precies aan de hand is. dit kan je makkelijk met een logger en de verschillende log niveau's weg schrijven.

#### Assessment of risk. 
##### Discussion of authentication and authorization.
Authorisatie en Authenticatie hebben geen toegevoegde waarde binnen deze vulnerability.
De omvang van de risico kan je bepalen op basis van het doel van de applicatie.
Als je deze daadwerkelijk in productie zou willen nemen had ik op zn minst logging toegevoegd. 
het kunnen inzien van de uitgevoerde acties en het vastleggen wanneer problemen optreden en wat deze inhouden is zeer belangrijk.

op het gebied van monitoring denk ik dat het voor deze app niet echt nodig heeft. Je hebt geen accounts en slaat geen persoonlijke gegevens op dus deze hoef je in principe niet goed in de gaten te houden. Het kunnen inzien van je services en of deze de gewenste resultaten geven kan je inprincipe goed testen waardoor monitoring op een applicatie van deze schaal minder is.

Beide zijn altijd fijn om te hebben aangezien de meerwaarde daadwerklijke aanwezig is.
### Counter-measures
Logging kan je opzich best wel eenvoudig toegevoegd worden door na elke command/actie het resultaat te loggen.
Er zijn verschillende API's of manieren waarop je dit kunt toepassen. Hiernaast heeft java.util ook een logger die je kan gebruiken. 
Que monitoring heb ik google moeten raadplegen en ben ik op Stackify uitgekomen. Het is een library waarmee je de services kan tracen (@Trace) en een overzicht pagina kan maken waar je alle service traces kan zien en bijhouden.

## A1:2017 Injection
### Description
SQL injection staat in 2021 nog steeds in de top 3 van meest voorkomende attacks die wordt uitgevoerd.
De hacker probeert doormiddel van environment variables, parameters, external and internal web services data te injecteren in het systeem of probeert door middel van SQL calls data uit het systeem te vissen. Voor dit project is de kans klein dat je op be meest gebruikelijke manieren een SQL injection kan uitvoeren aangezien we geen SQL queries gebruiken. We gebruiken namelijk Hibernate die alle acties die op de database uitvoerd en deze SQL queries zijn parameterized statements. Hiernaast hebben we ook geen andere SQL queries gedefinieerd in de gameRepository waardoor alle acties 100% paramterized zijn.
#### Assessment of risk. 
##### Discussion of authentication and authorization.
Ook voor deze risico heeft authenticatie en authorizatie geen invloed op de werking van de aanval.
Ik heb het al even genoemd maar sql injections zoals ik ze ken worden vooral uitgevoerd door SQL queries op het syteem uit te voeren
of door deze te manipuleren: ``String query = "SELECT * FROM accounts WHERE custID='" + request.getParameter("id") + "'";`` 
is een voorbeeld van een simepele SQL query die eenvoudig te manipuleren is door een hacker. De hacker kan door middel van escaped characters of door simpel weg gokken op de gegeven query inputs data uit het systeem halen of erin verwerkken. 

Om dit tegen te gaan zijn 2 dingen die je kunt doen waarvan ik er sowieso 1 heb gedaan. Hibernate maakt gebruik van statements ipv queries om data uit de database op te halen. ``String sql="insert into emp values(?,?,?)"; `` is een simpel voorbeeld waar de ``?`` parameter aangegeven wordt die we kunnen invoeren door de setter methode van prepared statement aan te roepen. Hiberante doet dit allemaal onderwater waardoor we dit niet zelf hoeven te schrijven. Hiernasst is het mogelijk om escaping te gebruiken zoals je kunt zien in de simpele string query. ik weet niet zeker of Hibernate de de input zelf escaped maar ga hier eigenlijk wel vanuit. Ik kan hier bijna niks over vinden. Ook lees ik hier en daar dat character escaping SQL injecties niet tegen gaat maar als ik de OWASP website mag geloven is dit wel zo.

### Counter-measures
Ik denk dat ik dit redelijk in de assessment van het risico heb beschreven maar in het kort:
1. gebruik prepared statements ipv simpele SQL Queries.
2. Blokkeer sspecial characters met namen: `'\/'
3. 


